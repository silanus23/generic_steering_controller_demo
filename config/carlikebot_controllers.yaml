controller_manager:
  ros__parameters:
    update_rate: 100  # Hz

    carlikebot_base_controller:
      type: generic_steering_controller/GenericSteeringController

    joint_state_broadcaster:
      type: joint_state_broadcaster/JointStateBroadcaster

carlikebot_base_controller:
  ros__parameters:
    # Plugin configuration - use the parameter name from your YAML file
    plugin_name: "carlikebot_bringup/CarLikeKinematics"
    
    # Joint configuration - match parameter names in your YAML file
    traction_joints_names: ["rear_left_wheel_joint", "rear_right_wheel_joint"]
    steering_joints_names: ["front_left_wheel_joint", "front_right_wheel_joint"]
    
    # Physical parameters
    wheelbase: 0.325
    wheel_radius: 0.05
    
    # Control parameters
    ref_timeout: 0.5  # Note: parameter name is ref_timeout, not reference_timeout
    
    # Odometry configuration
    enable_odom_tf: true
    odom_frame_id: "odom"
    base_frame_id: "base_link"
    
    # Advanced options
    open_loop: false
    reduce_wheel_speed_until_steering_reached: false
    position_feedback: false

joint_state_broadcaster:
  ros__parameters:
    joints:
      - front_left_wheel_joint
      - front_right_wheel_joint
      - rear_left_wheel_joint
      - rear_right_wheel_joint
    interfaces:
      - position
      - velocity